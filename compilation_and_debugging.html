

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>3. Compilation, Debugging and Debuggers &#8212; Learning Scientific Computing</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'compilation_and_debugging';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Numerical Integration" href="numerical_integration.html" />
    <link rel="prev" title="2. What is a program" href="what_is_a_program.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="title.html">
  
  
  
  
  
  
    <p class="title logo__title">Learning Scientific Computing</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="title.html">
                    Learning Scientific Computing
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Basics of C++</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="what_is_a_program.html">2. What is a program</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Compilation, Debugging and Debuggers</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">C++ Example Projects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="numerical_integration.html">4. Numerical Integration</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">High Preformance Computing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ssh.html">5. Connecting to remote servers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/compilation_and_debugging.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Compilation, Debugging and Debuggers</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-compilers">3.1. C++ Compilers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#digging-a-little-deeper-into-the-compiler">3.1.1. Digging a little deeper into the compiler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disassembly">3.2. Disassembly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revisiting-hello-world">3.2.1. Revisiting <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">World!</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debugging">3.3. Debugging</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="compilation-debugging-and-debuggers">
<h1><span class="section-number">3. </span>Compilation, Debugging and Debuggers<a class="headerlink" href="#compilation-debugging-and-debuggers" title="Permalink to this heading">#</a></h1>
<p>In the last chapter, we were introduced to the compiler as being the tool that translates the C++ code that we write, into machine code the CPU understands.
In this chapter, we will dig a little deeper into the C++ compilers, their various stages and get a general feeling for how to read disassembly.
We will finish by talking about debugging, i.e., how to diagnose where and/or why our programming is failing.</p>
<section id="c-compilers">
<h2><span class="section-number">3.1. </span>C++ Compilers<a class="headerlink" href="#c-compilers" title="Permalink to this heading">#</a></h2>
<p>There are essentially three standard compilers in the C++ world.
These are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code>: the <a class="reference external" href="https://gcc.gnu.org/">GNU Compiler Collection</a></p>
<ul>
<li><p>This is the default compiler on most Linux operating system, it is also the oldest and most opaque of compilers.
However, it does compile highly preformant code.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang</span></code>: (pronounced as either one word or c-lang), the LLVM based compiler</p>
<ul>
<li><p>This is the default compiler on MacOS (though maintains its own branch of the compiler), and sits on top of the <a class="reference external" href="https://llvm.org/">LLVM compiler infrastrucutre</a>.</p></li>
<li><p>Most modern compilers rely on LLVM to do the optimizations necessary to make fast code. It’s really a remarkable project</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cl</span></code>: the compiler that ships with Microsoft’s Visual Studio</p>
<ul>
<li><p>Also referred to as the <a class="reference external" href="https://learn.microsoft.com/en-us/cpp/build/reference/compiling-a-c-cpp-program?view=msvc-170">MSVC compiler</a>, it only works on Windows operating systems.</p></li>
<li><p>It also tends to be the most up-to-date with the latest <a class="reference external" href="https://isocpp.org/std/the-standard">ISO C++ standards</a>, which are updated about every three years.</p></li>
</ul>
</li>
</ul>
<p>We will focus on clang, as this one is available on Linux and MacOS, and can be accessed on Windows through the <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux (WSL2)</a>.
Clang is also available through Visual Studio, for those relecutant to evolve from Windows.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All high preformance computing happens on computing clusters, which require you to be familiar with the POSIX command line interface (CLI).
It is very worthwhile to learn this, now.
Where possible, we will include examples of using the CLI throughout these notes</p>
</div>
<p>There are plenty of resources that explain how to install these compilers, for simplicity, we will only include the necessary command line instructions for Ubuntu based operating systems:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>clang++
</pre></div>
</div>
<p>To ensure that <code class="docutils literal notranslate"><span class="pre">clang</span></code> is on your system, you can run this command which asks <code class="docutils literal notranslate"><span class="pre">clang</span></code> to print what version it is</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>clang<span class="w"> </span>--version
</pre></div>
</div>
<p>Go ahead and create a folder in your favorite spot on your computer called <em>learning_scientific_computing</em> and subfolder named <em>hello_world</em>.
In this folder execute the following commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creates a file with the contents being the hello world program</span>
cat<span class="w"> </span>&gt;&gt;<span class="w"> </span>hello_world.cpp<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">#include &lt;iostream&gt;</span>

<span class="s">int main() {</span>
<span class="s">    std::cout &lt;&lt; &quot;Hello, World!&quot; &lt;&lt; std::endl;</span>
<span class="s">    return 0;</span>
<span class="s">}</span>
<span class="s">EOF</span>

<span class="c1"># Compile the program and name it `hello_word`</span>
clang++<span class="w"> </span>-o<span class="w"> </span>hello_world<span class="w"> </span>hello_world.cpp

<span class="c1"># execute the program</span>
./hello_world
</pre></div>
</div>
<p>These commands create the source file, compiles it, and then execute the program.
The result output should just be <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">World!</span></code>!</p>
<section id="digging-a-little-deeper-into-the-compiler">
<h3><span class="section-number">3.1.1. </span>Digging a little deeper into the compiler<a class="headerlink" href="#digging-a-little-deeper-into-the-compiler" title="Permalink to this heading">#</a></h3>
<p>Let’s take a quick digression to understand what the compiler is doing under the hood.
Compilation generally happens is several stages:</p>
<ol class="arabic simple">
<li><p>Preprocessing</p>
<ul class="simple">
<li><p>This step involves passing through the source code, and replacing preprocessing directives, also called macros, where ever they occur.
The most common of these is the <code class="docutils literal notranslate"><span class="pre">#include</span></code> statement, which takes the contents of the file being <em>included</em> and pastes it right there into the current file.</p></li>
<li><p>It also removes any comments, or <em>dead</em> bits of code that are encloded if <code class="docutils literal notranslate"><span class="pre">#if</span></code> guards that evaluate to false.</p></li>
</ul>
</li>
<li><p>Compilation</p>
<ul class="simple">
<li><p>This is were the compiler reads in every line of code in a file and represents in some form that can easily manipulate (an example is an <em>abstract syntax tree</em>).
This allows it to analyze your code to see if there are any bugs, such as missing semicolons, undeclared variables, etc.
This step is generally referred to as <em>lexing and parsing</em>.</p></li>
<li><p>The AST is then converted into some binary (no longer human-readible) representation, for <code class="docutils literal notranslate"><span class="pre">gcc</span></code> is the <em>Register Transfer Language</em> and <code class="docutils literal notranslate"><span class="pre">clang</span></code> uses <em>Intermediate Representation</em>.</p></li>
<li><p>The compiler then undergoes several pass of the code, transforming the binary representation to make the resulting machine code more efficient.
This process is called <em>optimization</em>; there has been <em>A LOT</em> of research that has gone into teaching compilers to be extremely good optimization machines.</p></li>
</ul>
</li>
<li><p>Assembling</p>
<ul class="simple">
<li><p>Once the compiler is happy with its optimization passes, it converts its binary representation into one that the hard architure we are target can understand.
For me, this is usually an intel based chip, which require x86_64 instructions, but could also be Apple Silicon chip which requires ARM instructions.</p></li>
</ul>
</li>
<li><p>Linking</p>
<ul class="simple">
<li><p>Once all the machine code has been generated for the various <em>.cpp</em> files, they have to be linked together, that is, functions defined in one <em>.cpp</em> file have to be cross-referenced so that every symbol is resolved and the CPU knows where to look for what when stepping through the call stack (an order list of instructions the CPU execute to execute the program).</p></li>
<li><p>Modern compilers can even preform further optimizations, called <em>link time optimization</em> or LTOs, do reduce executable size or improve performance.</p></li>
<li><p>This is also the step where the program is made aware of where to look for symbols that are situated in libraries and not a part of the executable itself.</p></li>
</ul>
</li>
</ol>
<p>There are more intricacy associated to each step that we needn’t review or understand.
However, it good to be familiar with what exactly it is that a compiler does.
Though we won’t be able to appreciate it from these notes, C++ provides a tool set that is vary well equipped for developing compiler infrastructure.</p>
</section>
</section>
<section id="disassembly">
<h2><span class="section-number">3.2. </span>Disassembly<a class="headerlink" href="#disassembly" title="Permalink to this heading">#</a></h2>
<section id="revisiting-hello-world">
<h3><span class="section-number">3.2.1. </span>Revisiting <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">World!</span></code><a class="headerlink" href="#revisiting-hello-world" title="Permalink to this heading">#</a></h3>
<p>The disassembly example that we looked at in the last chapter is</p>
<div class="highlight-nasm notranslate"><div class="highlight"><pre><span></span><span class="nl">.LC0:</span>
<span class="w">        </span><span class="nf">.string</span><span class="w"> </span><span class="s">&quot;Hello, Wolrd!&quot;</span>
<span class="nl">main:</span>
<span class="w">        </span><span class="nf">push</span><span class="w">    </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rbp</span><span class="p">,</span><span class="w"> </span><span class="nb">rsp</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">esi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">FLAT</span><span class="p">:</span><span class="nv">.LC0</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">edi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">FLAT</span><span class="p">:</span><span class="nv">_ZSt4cout</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">operator</span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="p">,</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="nv">const</span><span class="o">*</span><span class="p">)</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">esi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">FLAT</span><span class="p">:</span><span class="nv">_ZSt4endlIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rdi</span><span class="p">,</span><span class="w"> </span><span class="nb">rax</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">::</span><span class="nv">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="p">))</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="nf">pop</span><span class="w">     </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">ret</span>
</pre></div>
</div>
<p>In fact, this the disassembly generated using the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler on Compiler Explorer.
The corresponding disassembly for the <code class="docutils literal notranslate"><span class="pre">clang</span></code> compiler is (slightly longer and more complicated)</p>
<div class="highlight-nasm notranslate"><div class="highlight"><pre><span></span><span class="nl">__cxx_global_var_init:</span><span class="w">                  </span><span class="c1"># @__cxx_global_var_init</span>
<span class="w">        </span><span class="nf">push</span><span class="w">    </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rbp</span><span class="p">,</span><span class="w"> </span><span class="nb">rsp</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rdi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">__ioinit</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">std</span><span class="p">::</span><span class="nv">ios_base</span><span class="p">::</span><span class="nv">Init</span><span class="p">::</span><span class="nv">Init</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="nv">complete</span><span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="nv">constructor</span><span class="p">]</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rdi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">ios_base</span><span class="p">::</span><span class="nv">Init</span><span class="p">::</span><span class="o">~</span><span class="nv">Init</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="nv">complete</span><span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="nv">destructor</span><span class="p">]</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rsi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">__ioinit</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rdx</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">__dso_handle</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">__cxa_atexit</span>
<span class="w">        </span><span class="nf">pop</span><span class="w">     </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">ret</span>
<span class="nl">main:</span><span class="w">                                   </span><span class="c1"># @main</span>
<span class="w">        </span><span class="nf">push</span><span class="w">    </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rbp</span><span class="p">,</span><span class="w"> </span><span class="nb">rsp</span>
<span class="w">        </span><span class="nf">sub</span><span class="w">     </span><span class="nb">rsp</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="kt">dword</span><span class="w"> </span><span class="nv">ptr</span><span class="w"> </span><span class="p">[</span><span class="nb">rbp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rdi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">cout</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rsi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">.L.str</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">operator</span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="p">,</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="nv">const</span><span class="o">*</span><span class="p">)</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rdi</span><span class="p">,</span><span class="w"> </span><span class="nb">rax</span>
<span class="w">        </span><span class="nf">movabs</span><span class="w">  </span><span class="nb">rsi</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">endl</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">::</span><span class="nv">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="nv">std</span><span class="p">::</span><span class="nv">basic_ostream</span><span class="o">&lt;</span><span class="nv">char</span><span class="p">,</span><span class="w"> </span><span class="nv">std</span><span class="p">::</span><span class="nv">char_traits</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;&amp;</span><span class="p">))</span>
<span class="w">        </span><span class="nf">xor</span><span class="w">     </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="nb">eax</span>
<span class="w">        </span><span class="nf">add</span><span class="w">     </span><span class="nb">rsp</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span>
<span class="w">        </span><span class="nf">pop</span><span class="w">     </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">ret</span>
<span class="nl">_GLOBAL__sub_I_example.cpp:</span><span class="w">             </span><span class="c1"># @_GLOBAL__sub_I_example.cpp</span>
<span class="w">        </span><span class="nf">push</span><span class="w">    </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">mov</span><span class="w">     </span><span class="nb">rbp</span><span class="p">,</span><span class="w"> </span><span class="nb">rsp</span>
<span class="w">        </span><span class="nf">call</span><span class="w">    </span><span class="nv">__cxx_global_var_init</span>
<span class="w">        </span><span class="nf">pop</span><span class="w">     </span><span class="nb">rbp</span>
<span class="w">        </span><span class="nf">ret</span>
<span class="nl">.L.str:</span>
<span class="w">        </span><span class="nf">.asciz</span><span class="w">  </span><span class="s">&quot;Hello, Wolrd!&quot;</span>
</pre></div>
</div>
<p>For this reason, we will on disect the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> disassembly, the the idea is the same.</p>
</section>
</section>
<section id="debugging">
<h2><span class="section-number">3.3. </span>Debugging<a class="headerlink" href="#debugging" title="Permalink to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="what_is_a_program.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2. </span>What is a program</p>
      </div>
    </a>
    <a class="right-next"
       href="numerical_integration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Numerical Integration</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-compilers">3.1. C++ Compilers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#digging-a-little-deeper-into-the-compiler">3.1.1. Digging a little deeper into the compiler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disassembly">3.2. Disassembly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revisiting-hello-world">3.2.1. Revisiting <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">World!</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debugging">3.3. Debugging</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kevin Ingles
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>